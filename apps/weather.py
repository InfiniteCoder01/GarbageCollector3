import ui
import watch
from vec import Vector2

weather_buttons = watch.load_image(
    b'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00?\x00\x00\x00\x15\x08\x06\x00\x00\x00\xf1h6\x8f\x00\x00\x00\x01sRGB\x00\xae\xce\x1c\xe9\x00\x00\x01\xf4IDATX\x85\xd5\x981KCA\x0c\xc7\xf3l\'\'GA(\xb8t\xe8\xea\xa2\xe0$t\xe8*\x16\x9c\xfb\x1d\xfc\x02nN~\x83\xceJEp*Rp\xb2\xd8\xc5\xb5\x85.BAptr\xb2\xe8\xa09\xd2\\\xf2ry\xaf\x95\xfa\x83R^r\x17\xfa\xbf\\r\xd7\x97\xc1/\xbb\xdb;_P\x92\x97\xb7\xd7\x8c>\xaf{\xcc\x0c\x03>\x8c\x9e\xcb\xc6\x84\xa3\xfd\xbd\x10\xf8?\xc4\xcch\xc0\xc7\xa7\xa9:\xa1]\xeb@o\xd6U\xfd\x87\x07\xf5\x10\x18\x00 %\xa6\xc5\xaacV\xd1X& \xce\x1f\x8e&\x91\x8d\xd3j6"[\x7f0.\x15\x13\x00\xe0\xf8\xb4\x0e\xb7W\xd3\xe8;/\xe6\x06w\xb6k\x1d1\xb8\x86g\xbc$<\xcf\xee\x01\x05\x03\x80*\x9c\x13\x89\xef\xcd\xba\xa2 i\xcb[\xa5@\xb1\x04\xb6\x9a\r\xf7"P\xb1\x00\x10\x04\xe37\xf7s\xaa\x92\x91\x0b\xa2\x8bA}\xa9\xc2=\xb4\x9a\r\xb5\x0c8y\xdb;\xc5\x1fe\x9e\xd2\xaeu\xa2] \xd9,\xbc\x19M\x1dO\xeb\xbb\x88?W<Ry\xff\x0c\x1f/\xcb\xa8g\x8e\xb4\xcd\xb9@\x9aq^\x06\x88*\x1e\xb3\xcb\x05\xe3\xb37\xfb\xcbD\x12k5<\xc9\x16j^\xabk\x0b:o8:K\x9eW\x86\xbcF\x86\x8b \xf9\xf8\x02\x04\xf1E\x9b\xd7\xe2\xbcI\xe4\xef\x0f\xc6\xee\xado5<\xad\x91Q\xd1)\x99W\xb7=\x8a\x9ao-\x1e\x08\xf8\xecY\xac\xfe`\x9c\xd4\xc1S\xc7Y\xdb\xda*\x0bD<\xea8|\x01\x8a\x92z\x84Y\xd0\x06\xa6\xed\x02\xe9\xb6\x97\x9cy\x80\x9f\xec\xf2\x0cK\xb6Tn\xe6\x1f\xa6]\x1b#\xb1\x92s\x9ewr\x14\x9cw\xf9\xf1\xe2\x11\xa9\xb1\xf4s^\xbb\xb2jW^\xcf\x02\x9cT6M\xbb6F\xc2\xba\xcer?G\xbc\xdb{(Z\x02\x1e\x91)X\rO"\x88\xc7\xff\xb9E\xe1\x7f=\xff:&\xcf\xb2\x96m\x1as\xe1\r\xc9\xc5\xe5]\xa9\x1f{\x7f}\x1e\xbduY\xe7\x98\xe1\xfd\xd8\xba\xbfo[E\xccoT0\x93|\xe1\xb4O\xdd\x00\x00\x00\x00IEND\xaeB`\x82')

weathers = [
    "sunny",
    "rainy",
    "snowy"
]


def frame(frame):
    frame.draw_image(Vector2(0, 0), ui.icons['cross'])
    if ui.in_rect(frame.mouse_pos(), Vector2(0, 0), watch.image_size(ui.icons['cross'])):
        if frame.click():
            return False

    cursor = Vector2(0, 18)
    button_size = watch.image_size(weather_buttons)
    button_size = Vector2(button_size.x / len(weathers), button_size.y)
    for (i, weather) in enumerate(weathers):
        frame.draw_image_pro(cursor, weather_buttons, None, Vector2(
            i / len(weathers), 0), Vector2((i + 1) / len(weathers), 1.0))

        if ui.in_rect(frame.mouse_pos(), cursor, button_size):
            if frame.click():
                watch.set_weather(weather)

        cursor = Vector2(cursor.x + button_size.x + 2, cursor.y)

    return True
