import ui
import watch
from vec import Vector2

lock_buttons = watch.load_image(
    b'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00*\x00\x00\x00\x15\x08\x06\x00\x00\x000\xef|#\x00\x00\x00\x01sRGB\x00\xae\xce\x1c\xe9\x00\x00\x01+IDATH\x89cd\x80\x02E\t\xe9\xff\x0c\x14\x82\xfb/\x9e2"\xf3\xa9i&#\xcc\xc0}\'\xceRj&\x83\x93\x851\xdc`j\x9b\xc9\x88l\xe0\x91\xe3\xb7\xc86\xd0\xc6R\rn0\x03\x03\x03\x03\xb5\xcdd\x81\tRb L\xff\xd1\x13\xd71\xc4\xb0\x81\xba\xc2H\x0c\xb1\xa6\xfe\xe5x\xcdd\xc1\x90%\xd3PbA]a$\xc3\x95\xe7g\x19\xd6\xad\xb8\x85!\x8e\xcf\\\xbc\x0e%\xd7PB\xe6\x15\x17l\xc4\x90s\x0f\xaf\xc3k.N\x87Rb(1`\xe7\xca&\x14\xf3\x08\x01&b\r\x85aJ\x01r\xec\xc0<jm\xa1IP\x1f^\x87\x92k(-\x00\xc1\xccDk\x80\x1c\x00\xd6\x16\xb8\x93\x12\xbc\x1cE.J\xea\n#\x19\xee]\xcb`\xf8x|\x1fN\x8d\xf7\x0f\xbcb\x08Z\xfc\x01%\x9d\x1e=q\x1d\x9e<\xa8m&Qit0\x80Q\x87R\x1b\x8c:\x94\xda\x00g\xf1\xa4\xa45\x83\xea\x96Qb&V\x87RR5\xe2\x02\x94\x9a\t\x8fzX\xdb\x8f\\\x80\xde\xc4\xa3\xb6\x99,\xf7_<et\xb20\xfe\xbf\xef\xc4Y\xac\x96\x91\x02v\xael\x82\xb7\xf0\xa9m&\xbc\x8f3\xd8\xfbL\x00\xc0\x89\xc9%\xf6\xf5&i\x00\x00\x00\x00IEND\xaeB`\x82')

def frame(frame):
    frame.draw_image(Vector2(0, 0), ui.icons['cross'])
    if ui.in_rect(frame.mouse_pos(), Vector2(0, 0), watch.image_size(ui.icons['cross'])):
        if frame.click():
            return False

    cursor = Vector2(0, 18)
    button_size = watch.image_size(lock_buttons)
    button_size = Vector2(button_size.x / 2, button_size.y)
    frame.draw_image_pro(cursor, lock_buttons, None, Vector2(0.0, 0.0), Vector2(0.5, 1.0))
    if ui.in_rect(frame.mouse_pos(), cursor, button_size):
        if frame.click():
            watch.lock_nearest()
    cursor = Vector2(cursor.x + button_size.x + 2, cursor.y)
    frame.draw_image_pro(cursor, lock_buttons, None, Vector2(0.5, 0.0), Vector2(1.0, 1.0))
    if ui.in_rect(frame.mouse_pos(), cursor, button_size):
        if frame.click():
            watch.unlock_nearest()
    return True
